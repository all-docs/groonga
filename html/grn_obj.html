<!DOCTYPE html>
<HTML><HEAD><TITLE>grn_obj</TITLE></HEAD>
<BODY>
<H1>grn_obj</H1><PRE>typedef struct _grn_obj grn_obj</PRE><p class="para-brief"> The generic Groonga object type.</p><p> This is a generic type to represent most Groonga objects such as database, table, column, buffer and so on. You can use grn_obj  to represent different types of objects. For example, you can use grn_obj  both for grn_hash  and grn_pat.  This is convenient to provide generic API. For example, you can use grn_obj_get_value  for table, column and accessor.</p><p> This is convenient but this may be difficult to understand when you don&#39;t have a common knowledge of object-oriented programming in C. Here are some examples of common grn_obj  usages:</p><p> ## Buffer</p><p> You can use grn_obj  as a buffer. You can store scalar values or vector values in a grn_obj. </p><p> For this usage, you need to allocate a grn_obj  on stack or heap. In general, stack is used to reduce memory allocation cost. Then you need to initialize the allocated grn_obj  by `GRN_*_INIT()` macros such as GRN_TEXT_INIT  and GRN_INT32_INIT.  You need to free the allocated grn_obj  when it&#39;s no longer needed. You can use GRN_OBJ_FIN  or grn_obj_close  for it. (GRN_OBJ_FIN  is an alias of grn_obj_close.)  In general, GRN_OBJ_FIN  is used for a grn_obj  in stack.</p><p> Here is an example to use grn_obj  as a text buffer:</p><p> ```c grn_obj text_buffer; GRN_TEXT_INIT(&amp;text_buffer, 0); GRN_TEXT_PUTS(ctx, &amp;text_buffer, &quot;hello &quot;); grn_text_printf(ctx, &amp;text_buffer, &quot;%s!&quot;, &quot;world&quot;); GRN_OBJ_FIN(ctx, &amp;text_buffer); ```</p><p> ## Object</p><p> You can use grn_obj  as a generic type for database, table, column and so on. In this usage, you use a heap allocated grn_obj.  So `grn_obj *` is used instead of grn_obj. </p><p> For example, you can use grn_db_open  to open a database:</p><p> ```c grn_obj *db = grn_db_open(ctx, &quot;&#47;tmp&#47;db&#47;db&quot;); ```</p><p> You can use grn_obj_close  to free the opened database:</p><p> ```c grn_obj_close(ctx, db); ```</p><TABLE><TBODY><TR><TD>
Defined in file: </TD><TD>
groonga\groonga.h</TD><TR></TBODY></TABLE>
</BODY></HTML>
