<!DOCTYPE html>
<HTML><HEAD><TITLE>grn_ctx_get_all_tables</TITLE></HEAD>
<BODY>
<H1>grn_ctx_get_all_tables</H1><PRE>__attribute__((dllimport)) grn_rc grn_ctx_get_all_tables(grn_ctx *ctx, grn_obj *tables_buffer)</PRE><p class="para-brief"> Retrieve all tables from the database that the context is using.</p><p> Ensure that `tables_buffer` is properly initialized as a GRN_PVECTOR  using GRN_PTR_INIT  with the GRN_OBJ_VECTOR  flag       before invoking this function.</p><p> After processing the tables, it is essential to release the            allocated resources by un-referring each table object and            finalizing the `tables_buffer` using GRN_OBJ_FIN.  Otherwise,            memory leaks may occur.</p><p> Here is an example of how to use grn_ctx_get_all_tables  to retrieve and process all tables:</p><p> ```c grn_rc rc; grn_obj tables; int i; int n_tables;</p><p> &#47;&#47; Initialize the tables buffer as a vector of `grn_obj *`. GRN_PTR_INIT(&amp;tables, GRN_OBJ_VECTOR, GRN_ID_NIL);</p><p> &#47;&#47; Retrieve all tables in database that the context is using. rc = grn_ctx_get_all_tables(ctx, &amp;tables); if (rc != GRN_SUCCESS) {     GRN_OBJ_FIN(ctx, &amp;tables);     &#47;&#47; Handle error appropriately.     return rc; }</p><p> &#47;&#47; Calculate the number of tables retrieved. n_tables = GRN_PTR_VECTOR_SIZE(&amp;tables); &#47;&#47; Iterate over each table. for (i = 0; i &lt; n_tables; i++) {     grn_obj *table = GRN_PTR_VALUE_AT(&amp;tables, i);     &#47;&#47; Use table. }</p><p> &#47;&#47; Free resources by un-referring each table when the reference count mode is &#47;&#47; enabled. for (i = 0; i &lt; n_tables; i++) {     grn_obj *table = GRN_PTR_VALUE_AT(&amp;tables, i);     grn_obj_unref(ctx, table); } &#47;&#47; Finalize the tables buffer. GRN_OBJ_FIN(ctx, &amp;tables); ```</p><dl><dt class="param-name-index-0">ctx</dt><dd class="param-descr-index-0"> The context object. </dd><dt class="param-name-index-1">tables_buffer</dt><dd class="param-descr-index-1"> The buffer to store the retrieved tables (must be                      prepared by the caller).</dd></dl><div class="result-discussion"><p class="para-returns"><span class="word-returns">Returns</span>  GRN_SUCCESS  on success, the appropriate grn_rc  on error.</p></div><TABLE><TBODY><TR><TD>
Defined in file: </TD><TD>
groonga\groonga.h</TD><TR></TBODY></TABLE>
</BODY></HTML>
